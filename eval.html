<!DOCTYPE html>
<html lang="fr-ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Évaluation Express | VendreTonAutoRapide.ca</title>
    <style>
        :root {
            --primary: #0056B3; /* Bleu Québec */
            --secondary: #E31937; /* Rouge Alerte */
            --accent: #FFC72C; /* Or */
            --dark: #1A1A1A;
            --light: #F8F9FA;
            --gray: #6C757D;
            --light-gray: #E9ECEF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', Arial, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* Header */
        .eval-header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px 0;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
        }

        .logo span {
            color: var(--secondary);
        }

        /* Hero Évaluation */
        .eval-hero {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('1.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
        }

        .eval-hero h1 {
            font-size: 42px;
            margin-bottom: 20px;
        }

        .eval-hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        /* Process Bar */
        .process-steps {
            display: flex;
            justify-content: space-between;
            max-width: 800px;
            margin: 40px auto;
            position: relative;
            flex-wrap: wrap; /* Permet aux étapes de passer à la ligne sur de très petits écrans */
            padding: 0 10px; /* Ajout d'un petit padding pour éviter de coller aux bords */
        }

        .process-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: var(--gray);
            z-index: 1;
        }

        .step {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1; /* Permet aux étapes de prendre de l'espace */
            min-width: 100px; /* Largeur minimale pour éviter le rétrécissement excessif */
            padding: 0 5px; /* Petit padding pour l'espacement entre les étapes */
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--gray);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }

        .step.active .step-number {
            background-color: var(--secondary);
        }

        .step-text {
            font-size: 14px;
            font-weight: 600;
        }

        /* Formulaire */
        .eval-form-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 900px;
            margin: -50px auto 50px;
            position: relative;
        }

        .form-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .form-header h2 {
            color: var(--primary);
            font-size: 28px;
            margin-bottom: 10px;
        }

        .form-header p {
            color: var(--gray);
            font-size: 16px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .btn:hover {
            background-color: #C0112B;
            transform: translateY(-2px);
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* Section Photo Professionnelle */
        .photo-upload-section {
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 30px;
        }

        .photo-tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Permet aux onglets de passer à la ligne */
            justify-content: center; /* Centrer les onglets sur mobile */
        }

        .photo-tab {
            padding: 12px 15px; /* Réduire légèrement le padding */
            background: none;
            border: none;
            font-weight: 600;
            cursor: pointer;
            color: var(--gray);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px; /* Réduire le gap */
            border-bottom: 3px solid transparent;
            font-size: 15px; /* Ajuster la taille de la police */
            white-space: nowrap; /* Empêche le texte de se couper */
        }

        .photo-tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--secondary);
        }

        .photo-tab i {
            font-size: 15px; /* Ajuster la taille de l'icône */
        }

        .photo-tab-content {
            display: none;
        }

        .photo-tab-content.active {
            display: block;
        }

        .photo-guide {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .photo-guide h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .photo-guide h4 i {
            font-size: 20px;
        }

        .photo-examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); /* Min-width légèrement réduit */
            gap: 15px;
            margin-top: 20px;
        }

        .photo-example-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .photo-example-card:hover {
            transform: translateY(-5px);
        }

        .photo-thumbnail {
            height: 100px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .photo-thumbnail i {
            font-size: 40px;
            color: #555;
        }

        .photo-badge {
            position: absolute;
            top: 5px;
            left: 5px;
            background-color: var(--secondary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
        }

        .photo-details {
            padding: 12px;
        }

        .photo-details h5 {
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 14px;
        }

        .photo-details p {
            color: var(--gray);
            font-size: 12px;
        }

        .upload-box {
            margin-top: 20px;
        }

        .upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: white;
        }

        .upload-label:hover {
            border-color: var(--primary);
            background-color: rgba(0, 86, 179, 0.05);
        }

        .upload-label i {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .upload-label span {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .upload-label small {
            color: var(--gray);
            font-size: 12px;
        }

        .radio-label {
            display: inline-block;
            margin-left: 8px;
            font-weight: normal;
            color: var(--dark);
        }
        /* Ajuster le style des radios pour plus d'espace sur mobile */
        .form-group .radio-label {
            display: block; /* Chaque label de radio sur une nouvelle ligne */
            margin-bottom: 10px;
            margin-left: 0; /* Réinitialiser la marge gauche */
        }
        .form-group input[type="radio"] {
            margin-right: 10px; /* Espacement entre le radio et le texte */
        }


        #vin-decoder-results {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: var(--light-gray);
            display: none; /* Hide by default */
        }

        #vin-decoder-results p {
            margin-bottom: 5px;
            color: var(--dark);
        }

        #vin-decoder-results strong {
            color: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .eval-hero h1 {
                font-size: 32px;
            }

            .eval-hero p {
                font-size: 18px;
            }

            .eval-form-container {
                padding: 25px;
            }

            .photo-examples-grid {
                grid-template-columns: 1fr 1fr;
                /* Assure que même sur des écrans étroits, il y a deux colonnes, sinon une */
                gap: 10px; /* Réduire le gap sur mobile */
            }

            .photo-tab {
                padding: 8px 12px;
                font-size: 14px;
                gap: 5px;
            }

            .process-steps {
                flex-direction: column; /* Empile les étapes verticalement */
                align-items: center; /* Centre les étapes */
                margin-bottom: 20px; /* Ajuster la marge */
            }
            .process-steps::before {
                display: none; /* Cache la ligne de progression sur mobile car les étapes s'empilent */
            }
            .step {
                flex: 0 0 100%;
                margin-bottom: 20px; /* Espacement entre les étapes empilées */
                padding: 0;
            }
            .step:last-child {
                margin-bottom: 0; /* Pas de marge pour la dernière étape */
            }
        }

        /* Nouveau breakpoint pour les très petits téléphones */
        @media (max-width: 480px) {
            .eval-hero h1 {
                font-size: 28px;
            }
            .eval-hero p {
                font-size: 16px;
            }
            .eval-form-container {
                padding: 15px;
            }
            .form-header h2 {
                font-size: 24px;
            }
            .form-control, .btn {
                font-size: 14px;
                padding: 10px 12px;
            }
            .photo-tab {
                font-size: 12px;
                padding: 6px 8px;
            }
            .photo-examples-grid {
                grid-template-columns: 1fr; /* Une seule colonne sur très petits écrans */
            }
            .radio-label {
                font-size: 14px; /* S'assurer que le texte est lisible */
            }
            .form-group .radio-label {
                padding-right: 5px; /* Éviter que le texte ne touche le bord droit */
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="eval-header">
        <div class="container">
            <div class="logo">VendreTonAuto<span>Rapide</span>.ca</div>
        </div>
    </header>

    <section class="eval-hero">
        <div class="container">
            <h1>Obtenez une offre ferme pour votre véhicule</h1>
            <p>Remplissez ce formulaire pour recevoir une évaluation gratuite et sans engagement en moins de 30 minutes</p>

            <div class="process-steps">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-text">Info. du véhicule</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-text">Coordonnées</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-text">Confirmation</div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="eval-form-container">
            <div class="form-header">
                <h2>Informations sur votre véhicule</h2>
                <p>Tous les champs sont obligatoires pour une évaluation précise</p>
            </div>

            <form id="evaluationForm">
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="vin">Numéro d'identification du véhicule (VIN) <i class="fas fa-question-circle" title="Le VIN se trouve généralement sur le tableau de bord (côté conducteur) ou sur l'étiquette de la porte."></i></label>
                        <input type="text" id="vin" class="form-control" placeholder="Entrez le VIN de 17 caractères" maxlength="17" pattern="[A-HJ-NPR-Z0-9]{17}" title="Le VIN doit contenir 17 caractères alphanumériques (sans I, O, Q)" required>
                        <button type="button" id="decodeVinBtn" class="btn" style="margin-top: 10px;">Décoder le VIN</button>
                    </div>

                    <div id="vin-decoder-results" class="full-width">
                        <h4>Résultats du décodage VIN :</h4>
                        <p>Marque: <strong id="decodedMarque">N/A</strong></p>
                        <p>Modèle: <strong id="decodedModele">N/A</strong></p>
                        <p>Année: <strong id="decodedAnnee">N/A</strong></p>
                        <p>Carburant: <strong id="decodedCarburant">N/A</strong></p>
                        <p>Transmission: <strong id="decodedTransmission">N/A</strong></p>
                        <p style="color: var(--gray); font-size: 13px; margin-top: 10px;">Veuillez vérifier et compléter les champs du formulaire avec les informations décodées.</p>
                    </div>

                    <div class="form-group">
                        <label for="marque">Marque</label>
                        <select id="marque" class="form-control" required>
                            <option value="">Sélectionnez une marque</option>
                            <option>Acura</option>
                            <option>Audi</option>
                            <option>BMW</option>
                            <option>Chevrolet</option>
                            <option>Ford</option>
                            <option>Honda</option>
                            <option>Hyundai</option>
                            <option>Jeep</option>
                            <option>Kia</option>
                            <option>Lexus</option>
                            <option>Mazda</option>
                            <option>Mercedes-Benz</option>
                            <option>Nissan</option>
                            <option>Subaru</option>
                            <option>Toyota</option>
                            <option>Volkswagen</option>
                            <option>Autre</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="modele">Modèle</label>
                        <input type="text" id="modele" class="form-control" placeholder="Ex: Civic, F-150, Rogue" required>
                    </div>

                    <div class="form-group">
                        <label for="annee">Année</label>
                        <select id="annee" class="form-control" required>
                            <option value="">Sélectionnez l'année</option>
                            <script>
                                const currentYear = new Date().getFullYear();
                                for (let year = currentYear; year >= 1990; year--) {
                                    document.write(`<option value="${year}">${year}</option>`);
                                }
                            </script>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="kilometrage">Kilométrage</label>
                        <input type="number" id="kilometrage" class="form-control" placeholder="Ex: 75000" required>
                    </div>

                    <div class="form-group">
                        <label for="transmission">Transmission</label>
                        <select id="transmission" class="form-control" required>
                            <option value="">Sélectionnez</option>
                            <option>Automatique</option>
                            <option>Manuelle</option>
                            <option>Autre</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="carburant">Type de carburant</label>
                        <select id="carburant" class="form-control" required>
                            <option value="">Sélectionnez</option>
                            <option>Essence</option>
                            <option>Diesel</option>
                            <option>Hybride</option>
                            <option>Électrique</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label>État général du véhicule <span style="color: var(--secondary); font-weight: normal;">(Choisissez l'option qui décrit le mieux l'état actuel)</span></label>
                        <div style="padding-left: 15px;">
                            <div class="form-group">
                                <input type="radio" id="etatExcellent" name="etat" value="Excellent" required>
                                <label for="etatExcellent" class="radio-label"><b>Excellent</b> - Véhicule en condition impeccable, sans aucun défaut esthétique ou mécanique notable. L'entretien a toujours été rigoureux et à jour.</label>
                            </div>
                            <div class="form-group">
                                <input type="radio" id="etatTresBon" name="etat" value="Très bon">
                                <label for="etatTresBon" class="radio-label"><b>Très bon</b> - Véhicule en très bonne condition générale. Quelques imperfections esthétiques mineures (ex: petites égratignures) peuvent être présentes, mais aucun problème mécanique significatif.</label>
                            </div>
                            <div class="form-group">
                                <input type="radio" id="etatBon" name="etat" value="Bon">
                                <label for="etatBon" class="radio-label"><b>Bon</b> - Véhicule en condition correcte avec une usure normale pour son âge et son kilométrage. Quelques réparations mineures pourraient être à prévoir à court ou moyen terme. L'esthétique présente des signes d'utilisation.</label>
                            </div>
                            <div class="form-group">
                                <input type="radio" id="etatAcceptable" name="etat" value="Acceptable">
                                <label for="etatAcceptable" class="radio-label"><b>Acceptable</b> - Véhicule avec une usure plus prononcée et potentiellement des réparations nécessaires. Des problèmes esthétiques et/ou mécaniques sont présents, mais le véhicule est toujours fonctionnel (sauf indication contraire).</label>
                            </div>
                            <div class="form-group">
                                <input type="radio" id="etatNonFonctionnel" name="etat" value="Non fonctionnel">
                                <label for="etatNonFonctionnel" class="radio-label"><b>Non fonctionnel</b> - Véhicule qui ne démarre pas ou qui présente des problèmes mécaniques majeurs le rendant inutilisable en l'état actuel.</label>
                            </div>
                        </div>
                    </div>

                    <div class="full-width photo-upload-section">
                        <h3>Photos de votre véhicule</h3>
                        <p>Veuillez téléverser des photos claires pour une évaluation plus précise.</p>

                        <div class="photo-tabs">
                            <button class="photo-tab active" data-tab="exterieur"><i class="fas fa-car"></i> Extérieur</button>
                            <button class="photo-tab" data-tab="interieur"><i class="fas fa-couch"></i> Intérieur</button>
                            <button class="photo-tab" data-tab="dommages"><i class="fas fa-exclamation-triangle"></i> Dommages (s'il y en a)</button>
                        </div>

                        <div id="exterieur" class="photo-tab-content active">
                            <div class="photo-guide">
                                <h4><i class="fas fa-camera"></i> Guide pour les photos de l'extérieur</h4>
                                <p>Veuillez prendre des photos claires de tous les angles de votre véhicule.</p>
                                <div class="photo-examples-grid">
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Avant%203/4');"></div>
                                        <div class="photo-details">
                                            <h5>Avant 3/4</h5>
                                            <p>Montrant l'avant et le côté.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Arrière%203/4');"></div>
                                        <div class="photo-details">
                                            <h5>Arrière 3/4</h5>
                                            <p>Montrant l'arrière et le côté.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Côté%20(Droit)');"></div>
                                        <div class="photo-details">
                                            <h5>Côté (Droit)</h5>
                                            <p>Vue latérale complète.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Côté%20(Gauche)');"></div>
                                        <div class="photo-details">
                                            <h5>Côté (Gauche)</h5>
                                            <p>Autre vue latérale complète.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="upload-box">
                                <label for="photoExterieur" class="upload-label">
                                    <i class="fas fa-upload"></i>
                                    <span>Cliquez ou glissez-déposez les photos de l'extérieur ici</span>
                                    <small>Formats acceptés: JPG, PNG</small>
                                </label>
                                <input type="file" id="photoExterieur" multiple style="display: none;">
                            </div>
                        </div>

                        <div id="interieur" class="photo-tab-content">
                            <div class="photo-guide">
                                <h4><i class="fas fa-camera"></i> Guide pour les photos de l'intérieur</h4>
                                <p>Veuillez prendre des photos claires du tableau de bord, des sièges avant et arrière.</p>
                                <div class="photo-examples-grid">
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Tableau%20de%20bord');"></div>
                                        <div class="photo-details">
                                            <h5>Tableau de bord</h5>
                                            <p>Vue complète du tableau de bord.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Sièges%20Avant');"></div>
                                        <div class="photo-details">
                                            <h5>Sièges Avant</h5>
                                            <p>Les deux sièges avant en entier.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Sièges%20Arrière');"></div>
                                        <div class="photo-details">
                                            <h5>Sièges Arrière</h5>
                                            <p>La banquette arrière en entier.</p>
                                        </div>
                                    </div>
                                    <div class="photo-example-card">
                                        <div class="photo-thumbnail" style="background-image: url('https://via.placeholder.com/150/cccccc/ffffff?Text=Odomètre');"></div>
                                        <div class="photo-details">
                                            <h5>Odomètre</h5>
                                            <p>Lecture claire du kilométrage.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="upload-box">
                                <label for="photoInterieur" class="upload-label">
                                    <i class="fas fa-upload"></i>
                                    <span>Cliquez ou glissez-déposez les photos de l'intérieur ici</span>
                                    <small>Formats acceptés: JPG, PNG</small>
                                </label>
                                <input type="file" id="photoInterieur" multiple style="display: none;">
                            </div>
                        </div>

                        <div id="dommages" class="photo-tab-content">
                            <div class="photo-guide">
                                <h4><i class="fas fa-camera"></i> Photos des dommages (s'il y en a)</h4>
                                <p>Veuillez prendre des photos claires de tous les dommages ou imperfections notables.</p>
                            </div>
                            <div class="upload-box">
                                <label for="photoDommages" class="upload-label">
                                    <i class="fas fa-upload"></i>
                                    <span>Cliquez ou glissez-déposez les photos des dommages ici</span>
                                    <small>Formats acceptés: JPG, PNG</small>
                                </label>
                                <input type="file" id="photoDommages" multiple style="display: none;">
                            </div>
                        </div>
                    </div>

                    <div class="full-width">
                        <h3>Vos coordonnées</h3>
                        <p>Veuillez fournir vos informations pour que nous puissions vous contacter.</p>
                    </div>

                    <div class="form-group">
                        <label for="nom">Nom complet</label>
                        <input type="text" id="nom" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="telephone">Numéro de téléphone</label>
                        <input type="tel" id="telephone" class="form-control" placeholder="Ex: 514-123-4567" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="courriel">Adresse courriel</label>
                        <input type="email" id="courriel" class="form-control" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="commentaires">Commentaires additionnels (facultatif)</label>
                        <textarea id="commentaires" class="form-control" rows="4" placeholder="Mentionnez toute information pertinente (historique d'entretien, modifications, etc.)"></textarea>
                    </div>

                    <div class="form-group full-width">
                        <button type="submit" class="btn btn-block">Obtenir mon évaluation</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Photo Tabs Logic
            const photoTabs = document.querySelectorAll('.photo-tab');
            const photoContents = document.querySelectorAll('.photo-tab-content');

            photoTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;

                    photoTabs.forEach(t => t.classList.remove('active'));
                    photoContents.forEach(c => c.classList.remove('active'));

                    tab.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });

            // VIN Decoder (Client-side simulation - REPLACE WITH ACTUAL API CALL)
            const decodeVinBtn = document.getElementById('decodeVinBtn');
            decodeVinBtn.addEventListener('click', function() {
                const vinInput = document.getElementById('vin');
                const vin = vinInput.value.trim().toUpperCase();
                const vinResults = document.getElementById('vin-decoder-results');
                const decodedMarque = document.getElementById('decodedMarque');
                const decodedModele = document.getElementById('decodedModele');
                const decodedAnnee = document.getElementById('decodedAnnee');
                const decodedCarburant = document.getElementById('decodedCarburant');
                const decodedTransmission = document.getElementById('decodedTransmission');

                if (vin.length === 17 && /^[A-HJ-NPR-Z0-9]{17}$/.test(vin)) {
                    // In a real application, you would make an AJAX request to a VIN decoding API here.
                    // For demonstration, we'll simulate a response.
                    console.log('Decoding VIN:', vin);

                    // Simulate API response delay
                    setTimeout(() => {
                        const simulatedData = {
                            make: 'Toyota',
                            model: 'Camry',
                            year: '2020',
                            fuelType: 'Essence',
                            transmission: 'Automatique'
                        };

                        decodedMarque.textContent = simulatedData.make;
                        decodedModele.textContent = simulatedData.model;
                        decodedAnnee.textContent = simulatedData.year;
                        decodedCarburant.textContent = simulatedData.fuelType;
                        decodedTransmission.textContent = simulatedData.transmission;

                        // Auto-fill form fields (optional, but good UX)
                        document.getElementById('marque').value = simulatedData.make;
                        document.getElementById('modele').value = simulatedData.model;
                        document.getElementById('annee').value = simulatedData.year;
                        document.getElementById('carburant').value = simulatedData.fuelType;
                        document.getElementById('transmission').value = simulatedData.transmission;

                        vinResults.style.display = 'block';
                    }, 1000);
                } else {
                    alert("Veuillez entrer un VIN valide de 17 caractères (sans I, O, Q).");
                    vinResults.style.display = 'none';
                }
            });

            // Handle file uploads (display file names, not actual upload)
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                input.addEventListener('change', function() {
                    const label = this.closest('.upload-box').querySelector('.upload-label span');
                    if (this.files.length > 0) {
                        if (this.files.length === 1) {
                            label.textContent = this.files[0].name;
                        } else {
                            label.textContent = `${this.files.length} fichiers sélectionnés`;
                        }
                    } else {
                        label.textContent = `Cliquez ou glissez-déposez les photos de l'${this.id.replace('photo', '').toLowerCase()} ici`;
                    }
                });
            });

            // Form submission
            const evaluationForm = document.getElementById('evaluationForm');
            evaluationForm.addEventListener('submit', async function(event) {
                event.preventDefault(); // Prevent default form submission

                const formData = new FormData();

                // Collect text inputs
                formData.append('vin', document.getElementById('vin').value);
                formData.append('marque', document.getElementById('marque').value);
                formData.append('modele', document.getElementById('modele').value);
                formData.append('annee', document.getElementById('annee').value);
                formData.append('kilometrage', document.getElementById('kilometrage').value);
                formData.append('transmission', document.getElementById('transmission').value);
                formData.append('carburant', document.getElementById('carburant').value);
                formData.append('etat', document.querySelector('input[name="etat"]:checked').value);
                formData.append('nom', document.getElementById('nom').value);
                formData.append('telephone', document.getElementById('telephone').value);
                formData.append('courriel', document.getElementById('courriel').value);
                formData.append('commentaires', document.getElementById('commentaires').value);

                // Collect image files
                const photoExterieur = document.getElementById('photoExterieur').files;
                for (let i = 0; i < photoExterieur.length; i++) {
                    formData.append('photoExterieur', photoExterieur[i]);
                }

                const photoInterieur = document.getElementById('photoInterieur').files;
                for (let i = 0; i < photoInterieur.length; i++) {
                    formData.append('photoInterieur', photoInterieur[i]);
                }

                const photoDommages = document.getElementById('photoDommages').files;
                for (let i = 0; i < photoDommages.length; i++) {
                    formData.append('photoDommages', photoDommages[i]);
                }

                try {
                    // Send data to your server
                    const response = await fetch('/submit-evaluation', { // This endpoint needs to exist on your server
                        method: 'POST',
                        body: formData
                    });

                    if (response.ok) {
                        alert('Votre demande d\'évaluation a été soumise avec succès !');
                        // Optionally redirect to a confirmation page
                        window.location.href = '/confirmation.html';
                    } else {
                        alert('Une erreur est survenue lors de la soumission. Veuillez réessayer.');
                    }
                } catch (error) {
                    console.error('Erreur lors de la soumission du formulaire:', error);
                    alert('Une erreur de connexion est survenue. Veuillez vérifier votre internet ou réessayer plus tard.');
                }
            });
        });
    </script>
</body>
</html>
